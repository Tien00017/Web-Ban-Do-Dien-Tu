{% extends 'store/base.html' %} {% block content %}
<div class="container-fluid py-4">
  <div class="row">
    <div class="col-md-2 bg-dark text-white p-3 rounded min-vh-50">
      <h5 class="text-uppercase mb-4 border-bottom pb-2">Admin Menu</h5>
      <ul class="nav flex-column">
        <li class="nav-item mb-3">
          <a
            href="{% url 'admin_dashboard' %}"
            class="text-white-50 text-decoration-none"
          >
            <i class="fas fa-box me-2"></i> S·∫£n ph·∫©m
          </a>
        </li>
        <li class="nav-item mb-3">
          <a
            href="{% url 'manage_users' %}"
            class="text-white text-decoration-none fw-bold"
          >
            <i class="fas fa-users me-2"></i> Qu·∫£n l√Ω User
          </a>
        </li>
        <li class="nav-item mb-3">
          <a
            href="{% url 'manage_orders' %}"
            class="text-white-50 text-decoration-none"
          >
            <i class="fas fa-file-invoice me-2"></i> ƒê∆°n h√†ng
          </a>
        </li>
      </ul>
    </div>

    <div class="col-md-10">
      <h2 class="fw-bold text-primary mb-4">üë• Danh s√°ch ng∆∞·ªùi d√πng</h2>
      <div class="card shadow-sm border-0">
        <div class="card-body p-0">
          <table class="table table-hover table-striped mb-0 align-middle">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>T√™n ƒëƒÉng nh·∫≠p</th>
                <th>Email</th>
                <th>Ng√†y tham gia</th>
                <th>Quy·ªÅn h·∫°n</th>
                <th class="text-center">H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody>
              {% for u in users %}
              <tr>
                <td>{{ u.id }}</td>
                <td class="fw-bold">{{ u.username }}</td>
                <td>{{ u.email }}</td>
                <td>{{ u.date_joined|date:"d/m/Y" }}</td>
                <td>
                  {% if u.is_superuser %}
                  <span class="badge bg-danger">Admin</span>
                  {% else %}
                  <span class="badge bg-secondary">Kh√°ch h√†ng</span>
                  {% endif %}
                </td>
                <td class="text-center">
                  {% if not u.is_superuser %}
                  <a
                    href="{% url 'delete_user' u.id %}"
                    class="btn btn-sm btn-outline-danger"
                    onclick="
                      return confirm(
                        'B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a user n√†y? D·ªØ li·ªáu ƒë∆°n h√†ng c·ªßa h·ªç c≈©ng s·∫Ω m·∫•t!',
                      );
                    "
                  >
                    <i class="fas fa-trash"></i> X√≥a
                  </a>
                  {% else %}
                  <span class="text-muted"><small>Kh√¥ng th·ªÉ x√≥a</small></span>
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
