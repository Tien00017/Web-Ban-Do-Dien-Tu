{% extends 'store/base.html' %} {% load humanize %} {% block content %}
<div class="container-fluid py-4">
  <div class="row">
    <div class="col-md-2 bg-dark text-white p-3 rounded min-vh-50">
      <h5 class="text-uppercase mb-4 border-bottom pb-2">Admin Menu</h5>
      <ul class="nav flex-column">
        <li class="nav-item mb-3">
          <a href="#" class="text-white text-decoration-none fw-bold">
            <i class="fas fa-box me-2"></i> Sản phẩm
          </a>
        </li>

        <li class="nav-item mb-3">
          <a
            href="{% url 'manage_users' %}"
            class="text-white-50 text-decoration-none"
          >
            <i class="fas fa-users me-2"></i> Quản lý User
          </a>
        </li>

        <li class="nav-item mb-3">
          <a href="{% url 'manage_orders' %}" class="text-white-50 text-decoration-none">
   <i class="fas fa-file-invoice me-2"></i> Đơn hàng
            </a>
          </a>
        </li>

        <li class="nav-item mt-4 pt-3 border-top border-secondary">
          <a href="{% url 'home' %}" class="text-white-50 text-decoration-none">
            <i class="fas fa-home me-2"></i> Về trang chủ
          </a>
        </li>
      </ul>
    </div>

    <div class="col-md-10">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold text-primary">Quản lý sản phẩm</h2>

        <div>
          <a href="{% url 'manage_users' %}" class="btn btn-primary me-2">
            <i class="fas fa-users-cog"></i> Quản lý User
          </a>

          <a href="{% url 'add_product' %}" class="btn btn-success">
            <i class="fas fa-plus"></i> Thêm sản phẩm mới
          </a>
        </div>
      </div>

      <div class="card shadow-sm border-0">
        <div class="card-body p-0">
          <table class="table table-hover table-striped mb-0 align-middle">
            <thead class="table-dark">
              <tr>
                <th class="py-3">ID</th>
                <th class="py-3">Hình ảnh</th>
                <th class="py-3">Tên sản phẩm</th>
                <th class="py-3">Giá</th>
                <th class="py-3">Danh mục</th>
                <th class="py-3 text-center">Hành động</th>
              </tr>
            </thead>
            <tbody>
              {% for product in products %}
              <tr>
                <td>{{ product.id }}</td>
                <td>
                  {% if product.image %}
                  <img
                    src="{{ product.image.url }}"
                    class="rounded border"
                    style="width: 50px; height: 50px; object-fit: cover"
                  />
                  {% else %}
                  <span class="text-muted small">No Img</span>
                  {% endif %}
                </td>
                <td class="fw-bold">{{ product.name }}</td>
                <td class="text-danger fw-bold">
                  {{ product.price|intcomma }}₫
                </td>
                <td>
                  <span class="badge bg-secondary"
                    >{{ product.category.name }}</span
                  >
                </td>
                <td class="text-center">
                  <a
                    href="{% url 'edit_product' product.id %}"
                    class="btn btn-sm btn-warning text-dark me-1"
                    title="Sửa"
                    ><i class="fas fa-edit"></i
                  ></a>
                  <a
                    href="{% url 'delete_product' product.id %}"
                    class="btn btn-sm btn-danger"
                    title="Xóa"
                    ><i class="fas fa-trash"></i
                  ></a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="6" class="text-center py-5 text-muted">
                  Chưa có sản phẩm nào.
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
